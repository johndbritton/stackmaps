<!DOCTYPE html>
<html>
  <head>
    <title>Stackmaps</title>

    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #container { height: 100%; width: 100% }â€‹
      #header { height: 20px; width: 100%; }
      #map { height: 100%; }
      #footer { height: 10px; width: 100%;}
    </style>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&.js"></script>

    <script type="text/javascript">
      $(document).ready(function(){
        var mapOptions = {
          zoom: 2,
          center: new google.maps.LatLng(42.37264, -71.109653),
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        map = new google.maps.Map(document.getElementById("map"), mapOptions); 
      });

      $.ajax({
        url: 'http://api.stackexchange.com/2.0/sites',
        type: 'GET',
        data: '?pagesize=100',
        success: function(data) {}
      });

      $.ajax({
        url: 'http://api.stackexchange.com/2.0/users',
        type: 'GET',
        data: 'pagesize=10&order=desc&sort=reputation&site=travel', 
        success: function(data) {
          $.each(data.items, function(i, user) {
            $.ajax({
              url: 'http://where.yahooapis.com/geocode',
              type: 'GET',
              data: 'flags=j&q=' + user.location,
              success: function(data) {
	        var place = data.ResultSet.Results[0];
                marker = new google.maps.Marker({
                  position: new google.maps.LatLng(place.latitude, place.longitude),
                  map: map,
                  title: user.display_name
                });
              }
            });
          });
        }
      });
    </script>

  </head>

  <body>
    <div id="container">
      <div id="header">
        <p>Stackmaps</p>
        <select data-placeholder="Choose a StackExchange Community">
          <option value=""></option>
          <option value="Zimbabwe">Zimbabwe</option>
        </select>
      </div>
      <div id="map"></div>
      <div id="footer">
        footer text
      </div>
    </div>
  </body>

</html>
